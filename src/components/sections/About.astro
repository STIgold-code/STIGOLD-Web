---
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import AnimatedText from '../AnimatedText.tsx';
import styles from './About.module.css';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const stats = lang === 'es'
  ? [
      { number: '50+', label: 'Proyectos entregados' },
      { number: '30+', label: 'Clientes satisfechos' },
      { number: '5+', label: 'Años de experiencia' },
    ]
  : [
      { number: '50+', label: 'Projects delivered' },
      { number: '30+', label: 'Satisfied clients' },
      { number: '5+', label: 'Years of experience' },
    ];

const techAreas = lang === 'es'
  ? [
      { icon: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5', label: 'Web' },
      { icon: 'M17 2H7a2 2 0 00-2 2v16a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2zM12 18h.01', label: 'Móvil' },
      { icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M4 15h16M4 11h16M6 7h12a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2z', label: 'Sistemas' },
      { icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z', label: 'Consultoría' },
    ]
  : [
      { icon: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5', label: 'Web' },
      { icon: 'M17 2H7a2 2 0 00-2 2v16a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2zM12 18h.01', label: 'Mobile' },
      { icon: 'M9.75 17L9 20l-1 1h8l-1-1-.75-3M4 15h16M4 11h16M6 7h12a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V9a2 2 0 012-2z', label: 'Systems' },
      { icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z', label: 'Consulting' },
    ];
---

<section class={styles.section} id="nosotros">
  <div class={styles.container}>
    <div class={styles.content}>
      <AnimatedText client:visible>
        <h2 class={styles.title}>{t('about.title')}</h2>
      </AnimatedText>

      <AnimatedText client:visible delay={0.2}>
        <p class={styles.description}>{t('about.description')}</p>
      </AnimatedText>

      <AnimatedText client:visible delay={0.4}>
        <div class={styles.stats}>
          {stats.map(stat => (
            <div class={styles.stat}>
              <div class={styles.statNumber}>{stat.number}</div>
              <div class={styles.statLabel}>{stat.label}</div>
            </div>
          ))}
        </div>
      </AnimatedText>
    </div>

    <AnimatedText client:visible delay={0.3}>
      <div class={styles.visual}>
        <div class={styles.visualGrid}>
          {techAreas.map(area => (
            <div class={styles.visualCard}>
              <svg class={styles.visualIcon} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d={area.icon}></path>
              </svg>
              <div class={styles.visualLabel}>{area.label}</div>
            </div>
          ))}
        </div>
      </div>
    </AnimatedText>
  </div>
</section>
